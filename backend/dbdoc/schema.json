{"name":"db","desc":"","tables":[{"name":"public.goose_db_version","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('goose_db_version_id_seq'::regclass)","comment":""},{"name":"version_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"is_applied","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"tstamp","type":"timestamp without time zone","nullable":true,"default":"now()","comment":""}],"indexes":[{"name":"goose_db_version_pkey","def":"CREATE UNIQUE INDEX goose_db_version_pkey ON public.goose_db_version USING btree (id)","table":"public.goose_db_version","columns":["id"],"comment":""}],"constraints":[{"name":"goose_db_version_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.goose_db_version","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.schools","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('schools_id_seq'::regclass)","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"postal_code","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"prefecture","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"city","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"address","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"schools_pkey","def":"CREATE UNIQUE INDEX schools_pkey ON public.schools USING btree (id)","table":"public.schools","columns":["id"],"comment":""}],"constraints":[{"name":"schools_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.schools","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.teachers","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('teachers_id_seq'::regclass)","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"family_name","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"given_name","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"school_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"email","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"status","type":"integer","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"expired_at","type":"timestamp without time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"teachers_pkey","def":"CREATE UNIQUE INDEX teachers_pkey ON public.teachers USING btree (id)","table":"public.teachers","columns":["id"],"comment":""}],"constraints":[{"name":"teachers_school_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (school_id) REFERENCES schools(id)","table":"public.teachers","referenced_table":"schools","columns":["school_id"],"referenced_columns":["id"],"comment":""},{"name":"teachers_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.teachers","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.classes","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('classes_id_seq'::regclass)","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"teacher_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"classes_pkey","def":"CREATE UNIQUE INDEX classes_pkey ON public.classes USING btree (id)","table":"public.classes","columns":["id"],"comment":""}],"constraints":[{"name":"classes_teacher_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (teacher_id) REFERENCES teachers(id)","table":"public.classes","referenced_table":"teachers","columns":["teacher_id"],"referenced_columns":["id"],"comment":""},{"name":"classes_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.classes","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.students","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('students_id_seq'::regclass)","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"sex","type":"integer","nullable":false,"default":null,"comment":""},{"name":"memo","type":"text","nullable":true,"default":null,"comment":""},{"name":"class_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"students_pkey","def":"CREATE UNIQUE INDEX students_pkey ON public.students USING btree (id)","table":"public.students","columns":["id"],"comment":""}],"constraints":[{"name":"students_class_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (class_id) REFERENCES classes(id)","table":"public.students","referenced_table":"classes","columns":["class_id"],"referenced_columns":["id"],"comment":""},{"name":"students_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.students","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.surveys","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('surveys_id_seq'::regclass)","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"status","type":"integer","nullable":false,"default":"0","comment":""},{"name":"class_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"surveys_pkey","def":"CREATE UNIQUE INDEX surveys_pkey ON public.surveys USING btree (id)","table":"public.surveys","columns":["id"],"comment":""}],"constraints":[{"name":"surveys_class_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (class_id) REFERENCES classes(id)","table":"public.surveys","referenced_table":"classes","columns":["class_id"],"referenced_columns":["id"],"comment":""},{"name":"surveys_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.surveys","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.teams","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('teams_id_seq'::regclass)","comment":""},{"name":"team_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"survey_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"teams_pkey","def":"CREATE UNIQUE INDEX teams_pkey ON public.teams USING btree (id)","table":"public.teams","columns":["id"],"comment":""},{"name":"teams_survey_id_team_id_key","def":"CREATE UNIQUE INDEX teams_survey_id_team_id_key ON public.teams USING btree (survey_id, team_id)","table":"public.teams","columns":["survey_id","team_id"],"comment":""}],"constraints":[{"name":"teams_survey_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (survey_id) REFERENCES surveys(id)","table":"public.teams","referenced_table":"surveys","columns":["survey_id"],"referenced_columns":["id"],"comment":""},{"name":"teams_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.teams","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"teams_survey_id_team_id_key","type":"UNIQUE","def":"UNIQUE (survey_id, team_id)","table":"public.teams","referenced_table":"","columns":["team_id","survey_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.student_preferences","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('student_preferences_id_seq'::regclass)","comment":""},{"name":"student_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"survey_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"team_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"mi_a","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_b","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_c","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_d","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_e","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_f","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_g","type":"integer","nullable":false,"default":null,"comment":""},{"name":"mi_h","type":"integer","nullable":false,"default":null,"comment":""},{"name":"leader","type":"integer","nullable":false,"default":null,"comment":""},{"name":"eyesight","type":"integer","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"student_preferences_pkey","def":"CREATE UNIQUE INDEX student_preferences_pkey ON public.student_preferences USING btree (id)","table":"public.student_preferences","columns":["id"],"comment":""},{"name":"student_preferences_student_id_survey_id_key","def":"CREATE UNIQUE INDEX student_preferences_student_id_survey_id_key ON public.student_preferences USING btree (student_id, survey_id)","table":"public.student_preferences","columns":["student_id","survey_id"],"comment":""}],"constraints":[{"name":"student_preferences_student_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (student_id) REFERENCES students(id)","table":"public.student_preferences","referenced_table":"students","columns":["student_id"],"referenced_columns":["id"],"comment":""},{"name":"student_preferences_survey_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (survey_id) REFERENCES surveys(id)","table":"public.student_preferences","referenced_table":"surveys","columns":["survey_id"],"referenced_columns":["id"],"comment":""},{"name":"student_preferences_team_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (team_id) REFERENCES teams(id)","table":"public.student_preferences","referenced_table":"teams","columns":["team_id"],"referenced_columns":["id"],"comment":""},{"name":"student_preferences_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.student_preferences","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"student_preferences_student_id_survey_id_key","type":"UNIQUE","def":"UNIQUE (student_id, survey_id)","table":"public.student_preferences","referenced_table":"","columns":["student_id","survey_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.student_dislikes","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('student_dislikes_id_seq'::regclass)","comment":""},{"name":"student_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"preference_id","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""}],"indexes":[{"name":"student_dislikes_pkey","def":"CREATE UNIQUE INDEX student_dislikes_pkey ON public.student_dislikes USING btree (id)","table":"public.student_dislikes","columns":["id"],"comment":""},{"name":"student_dislikes_student_id_preference_id_key","def":"CREATE UNIQUE INDEX student_dislikes_student_id_preference_id_key ON public.student_dislikes USING btree (student_id, preference_id)","table":"public.student_dislikes","columns":["preference_id","student_id"],"comment":""}],"constraints":[{"name":"student_dislikes_student_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (student_id) REFERENCES students(id)","table":"public.student_dislikes","referenced_table":"students","columns":["student_id"],"referenced_columns":["id"],"comment":""},{"name":"student_dislikes_preference_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (preference_id) REFERENCES student_preferences(id)","table":"public.student_dislikes","referenced_table":"student_preferences","columns":["preference_id"],"referenced_columns":["id"],"comment":""},{"name":"student_dislikes_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.student_dislikes","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"student_dislikes_student_id_preference_id_key","type":"UNIQUE","def":"UNIQUE (student_id, preference_id)","table":"public.student_dislikes","referenced_table":"","columns":["student_id","preference_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"public.teachers","columns":["school_id"],"cardinality":"Zero or more","parent_table":"public.schools","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (school_id) REFERENCES schools(id)","virtual":false},{"table":"public.classes","columns":["teacher_id"],"cardinality":"Zero or more","parent_table":"public.teachers","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (teacher_id) REFERENCES teachers(id)","virtual":false},{"table":"public.students","columns":["class_id"],"cardinality":"Zero or more","parent_table":"public.classes","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (class_id) REFERENCES classes(id)","virtual":false},{"table":"public.surveys","columns":["class_id"],"cardinality":"Zero or more","parent_table":"public.classes","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (class_id) REFERENCES classes(id)","virtual":false},{"table":"public.teams","columns":["survey_id"],"cardinality":"Zero or more","parent_table":"public.surveys","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (survey_id) REFERENCES surveys(id)","virtual":false},{"table":"public.student_preferences","columns":["student_id"],"cardinality":"Zero or more","parent_table":"public.students","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (student_id) REFERENCES students(id)","virtual":false},{"table":"public.student_preferences","columns":["survey_id"],"cardinality":"Zero or more","parent_table":"public.surveys","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (survey_id) REFERENCES surveys(id)","virtual":false},{"table":"public.student_preferences","columns":["team_id"],"cardinality":"Zero or more","parent_table":"public.teams","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (team_id) REFERENCES teams(id)","virtual":false},{"table":"public.student_dislikes","columns":["student_id"],"cardinality":"Zero or more","parent_table":"public.students","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (student_id) REFERENCES students(id)","virtual":false},{"table":"public.student_dislikes","columns":["preference_id"],"cardinality":"Zero or more","parent_table":"public.student_preferences","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (preference_id) REFERENCES student_preferences(id)","virtual":false}],"functions":[],"driver":{"name":"postgres","database_version":"PostgreSQL 16.3 (Debian 16.3-1.pgdg120+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["\"$user\"","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
